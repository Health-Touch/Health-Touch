<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/analiseRepresentante.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/funcoes.js"></script>
    <title>Análise Representante | Health Touch</title>
    <link rel="shortcut icon" type="imagex/png" href="./assets/img/logo_icon.png" />
</head>

<body>

    <div class="divPai">
        <!-- inicio menu lateral -->
        <div class="divPaiLateral">
            <div class="filhoLateral">

                <div class="divNomeEmpresa">

                    <p id="textoEmpresa">Bem Vindo</p>
                    <p id="nomeEmpresa"></p>
                </div>

                <div class="divMainMenu">
                    <p id="pMainMenu">MAIN MENU</p>
                </div>

                <div class="divPaiOpcoesMenu">

                    <a href="../analise/analiseFuncionario.html" id="pMenuLateral">
                        <div class="divDashboardsGeral">
                            <img id="iconDashboardsLateral" src="../assets/img/painel (2).png">
                            <div class="divEspaco"></div>
                            Dashboard Geral
                        </div>
                    </a>

                    <a href="../setores.html" id="pMenuLateral">
                        <div class="divHome">
                            <img id="iconMenuLateralHome" src="../assets/img/grafico-de-setores.png">
                            <div class="divEspaco"></div>
                            Setores
                        </div>
                    </a>

                    <a href="../cadastro/cadastroMaquinas.html" id="pMenuLateral">
                        <div class="divComputador">
                            <img id="iconComputadorLateral" src="../assets/img/computador (4).png">
                            <div class="divEspaco"></div>
                            Cadastro Máquinas
                        </div>
                    </a>

                    <a href="../analise/analiseMaquinaTI.html" id="pMenuLateral">
                        <div class="divCadastroComputador">
                            <img id="iconComputadorCadLateral" src="../assets/img/definicoes.png">
                            <div class="divEspaco"></div>
                            Análise Máquinas
                        </div>
                    </a>

                    <a href="../cadastro/cadastroFuncionarios.html" id="pMenuLateral">
                        <div class="divAnaliseEquipe">
                            <img id="iconAnaliseEquipe" src="../assets/img/carteira-de-identidade.png">
                            <div class="divEspaco"></div>
                            Cadastro Equipe
                        </div>
                    </a>

                    <a href="../analise/analiseFuncionario.html" id="pMenuLateral">
                        <div class="divDashboards">
                            <img id="iconDashboardsLateral" src="../assets/img/equipe.png">
                            <div class="divEspaco"></div>
                            Análise Funcionários
                        </div>
                    </a>

                    <a href="" id="pMenuLateral">
                        <div class="divCadastroEquipe">
                            <img id="iconCadastroEquipe" src="../assets/img/mais (2).png">
                            <div class="divEspaco"></div>
                            Dashboards
                        </div>
                    </a>
                </div>

                <div class="divEspacoV2"></div>

                <div class="divHelp">
                    <p id="pHelp">HELP</p>
                </div>

                <div class="divPaiHelpMenu">
                    <a href="../suporte/SuporteHealthTooch.html" id="pMenuLateral">
                        <div class="divHelpDesk">
                            <img id="iconHelpDesk" src="../assets/img/suporte-ao-cliente.png">
                            <div class="divEspaco"></div>
                            HelpDesk
                        </div>
                    </a>
                    <a href="../atualizar/AtualizarUser.html" id="pMenuLateral">
                        <div class="divConfiguracoes">
                            <img id="iconConfiguracoes" src="../assets/img/botao-de-roda-dentada-de-configuracoes.png">
                            <div class="divEspaco"></div>
                            Configurações
                        </div>
                    </a>
                    <a href="../index.html">
                        <img id="logoMenuLateral" src="../assets/img/logoMenu.png">
                    </a>
                </div>
            </div>
        </div>
        <!-- fim do menu lateral -->

        <!-- inicio do cabeçalho -->
        <div class="divPaiCabecalho">
            <div class="filhoCabecalho">

                <div class="esquerdaCabecalho"></div>

                <div class="direitaCabecalho">
                    <img class="sinoIconCabecalho" src="../assets/img/notificacaoIcon.png">
                    <div class="divPerfilCabecalho">
                        <img class="iconPerfilCabecalho" src="../assets/img/fotoPerfil.png">
                        <div class="textosIcon">
                            <p id="tituloPerfil">Anthony Bento</p>
                            <p id="cargoPerfil">CEO</p>
                        </div>
                        <img class="setaPerfilCabecalho" src="../assets/img/setaIcon.png" onclick="exibirMenuPerfil()">
                        <div id="menuPerfil" class="menuPerfil"
                            style="display: none; position: absolute; z-index: 1; top: 58px;">
                            <ul>
                                <button class="btnSair">
                                    <div class="sign"><svg viewBox="0 0 512 512">
                                            <path
                                                d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z">
                                            </path>
                                        </svg></div>

                                    <div class="txtBtn" onclick="limparSessao()">Sair</div>
                                </button>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- fim do cabeçalho -->

            <!-- começo conteudo pagina -->
            <div class="divPaiConteudo">
                <div class="filhoConteudo">
                    <p id="pTituloNome"></p> 
                    <div class="divTitulo">
                        <p id="pTituloSetor">Análise Geral dos Setores <span id="numSala"></span></p>
                        <button class="btnTrocar" onclick="trocarComputador()">Trocar</button>
                        <button class="btnTrocar2" onclick="trocarComputador()">Setores</button>
                    </div>
                    <p id="pTituloMes"></p>

                    <div class="divPaiGraficos">
                        <div class="divPaiEsquerda">
                            <div class="grafico">
                                <canvas id="myChartSetor" class="grafico"></canvas>
                            </div>
                        </div>

                        <div class="divPaiDireita">

                            <div class="divPaiLinha1">

                                <div class="divKpi">

                                    <div class="barraLateral"></div>

                                    <div class="conteudoKpi">
                                        <p id="pTituloKpi">Total de Consultas <br> no Mês Atual</p>
                                        <p id="pTotalConsultas"></p>
                                        <p id="pDescConsultas"></p>
                                    </div>

                                    <div class="iconKpi">
                                        <img id="imgIcon" src="../assets/img/cama-de-hospital.png">
                                    </div>

                                </div>

                                <div class="divKpi">
                                    <div class="barraLateral"></div>

                                    <div class="conteudoKpi">
                                        <p id="pTituloKpi">Toten Mais Utilizado <br> no Mês Atual</p>
                                        <p id="pTotenMaisUtilizado"></p>
                                        <p id="pDescTotenMaisUtilizado"></p>
                                    </div>

                                    <div class="iconKpi">
                                        <img id="imgIcon" src="../assets/img/mouse.png">
                                    </div>
                                </div>
                            </div>
                            <div class="divPaiLinha2">
                                <div class="divKpi">
                                    <div class="barraLateral"></div>

                                    <div class="conteudoKpi">
                                        <p id="pTituloKpi">Setor Mais Utilizado <br> no Mês Atual</p>
                                        <p id="pSetorMaisUtilizado"></p>
                                        <p id="pDescSetorMaisUtilizado"></p>
                                    </div>

                                    <div class="iconKpi">
                                        <img id="imgIcon" src="../assets/img/protecao.png">
                                    </div>
                                </div>
                                <div class="divKpi">
                                    <div class="barraLateral"></div>

                                    <div class="conteudoKpi">
                                        <p id="pTituloKpi">Setor Menos Utilizado <br> no Mês Atual</p>
                                        <p id="pSetorMenosUtilizado"></p>
                                        <p id="pDescSetorMenosUtilizado"></p>
                                    </div>

                                    <div class="iconKpi">
                                        <img id="imgIcon" src="../assets/img/cuidados-de-saude.png">
                                    </div>
                                </div>
                            </div>
                            <div class="divPaiLinha3">
                                <div class="divKpi">
                                    <div class="barraLateral"></div>

                                    <div class="conteudoKpi">
                                        <p id="pTituloKpi">Dia Mais Movimentado <br> no Mês Atual</p>
                                        <p id="pDiaMaisUtilizado"></p>
                                        <p id="pDescDiaMaisUtilizado"></p>
                                    </div>

                                    <div class="iconKpi">
                                        <img id="imgIcon" src="../assets/img/silhueta-do-grupo-de-usuarios.png">
                                    </div>
                                </div>
                                <div class="divKpi">
                                    <div class="barraLateral"></div>

                                    <div class="conteudoKpi">
                                        <p id="pTituloKpi">Dia Menos Movimentado <br> no Mês Atual</p>
                                        <p id="pDiaMenosUtilizado"></p>
                                        <p id="pDescDiaMenosUtilizado"></p>
                                    </div>

                                    <div class="iconKpi">
                                        <img id="imgIcon" src="../assets/img/homem-usuario.png">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <!-- fim conteudo pagina -->

        </div>
    </div>
</body>

</html>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>
<script>

    window.onload = obterDadosGraficoSetor();
    window.onload = atualizarFeedConsulta();
    window.onload = obterSetorMaisUtilizado();
    window.onload = obterSetorMaisUtilizadoSub();
    window.onload = obterSetorMenosUtilizado();
    window.onload = obterSetorMenosUtilizadoSub();
    window.onload = obterDiaMaisMovimentado();
    window.onload = obterDiaMaisMovimentadoSub();
    window.onload = obterDiaMenosMovimentado();
    window.onload = obterDiaMenosMovimentadoSub();
    window.onload = totenMaisUtilizado();
    window.onload = totenMaisUtilizadoSub();
    window.onload = consultasSub();
    window.onload = mesAtual();

    function trocarComputador() {
        window.location = "../setores.html"
    }

    var cargo = sessionStorage.NIVELACESSO_COLABORADOR;

    // if (cargo == "RL") {
    //     cargo = "Representante"
    //     SumirCadMaq.style.display = "none";
    //     SumirAnaliseMaq.style.display = "none";
    // } else if (cargo == "GT") {
    //     cargo = "Gerente TI"
    // }
    // else {
    //     cargo = "Equipe TI";
    //     SumirCadMaq.style.display = "none";
    //     SumirCadEquipe.style.display = "none";
    //     SumirAnaliseFunc.style.display = "none";
    //     divCadastroEquipe.style.top = "18%";
    // }

    // cargoPerfil.innerHTML = cargo;
    // nomeEmpresa.innerHTML = sessionStorage.NOME_FANTASIA_COLABORADOR;
    // tituloPerfil.innerHTML = sessionStorage.NOME_COLABORADOR;
    // pNomeSetor.innerHTML = sessionStorage.NOME_SETOR;
    // numSala.innerHTML = sessionStorage.ID_SALA;
    // numComputador.innerHTML = sessionStorage.ID_MAQUINA;

    function obterDadosGraficoSetor(idMaquina) {
        var idMaquina = sessionStorage.ID_MAQUINA

        // if (proximaAtualizacao != undefined) {
        //     clearTimeout(proximaAtualizacao);
        // }

        fetch(`/medidas/ultimasSetor/${idMaquina}`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    resposta.reverse();

                    plotarGraficoSetor(resposta, idMaquina);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
            });
    }

    // Esta função *plotarGrafico* usa os dados capturados na função anterior para criar o gráfico
    // Configura o gráfico (cores, tipo, etc), materializa-o na página e, 
    // A função *plotarGrafico* também invoca a função *atualizarGrafico*
    function plotarGraficoSetor(resposta, idMaquina) {

        console.log('iniciando plotagem do gráfico...');

        // Criando estrutura para plotar gráfico - labels
        let labels = [];

        // Criando estrutura para plotar gráfico - dados
        let dados = {
            labels: labels,
            datasets: [{
                label: 'Setores',
                data: [],
                fill: true,
            }]
        };

        let options = {
            plugins: {
                title: {
                    display: true,
                    text: 'Opções Mais Utilizadas nos Totens',
                    font: {
                        size: 16,
                    }
                }
            },
            barWidth: 'auto',
            // Alterando o tamanho do gráfico para 55% da altura da janela
            height: window.innerHeight * 0.55,
            width: window.innerWidth * 0.4
        };

        console.log('----------------------------------------------')
        console.log('Estes dados foram recebidos pela funcao "obterDadosGrafico" e passados para "plotarGrafico":')
        console.log(resposta)

        // Inserindo valores recebidos em estrutura para plotar o gráfico
        for (i = 0; i < resposta.length; i++) {
            var registro = resposta[i];
            labels.push(registro.nomeBotao);
            dados.datasets[0].data.push(registro.opcoes);
        }

        console.log('----------------------------------------------')
        console.log('O gráfico será plotado com os respectivos valores:')
        console.log('Labels:')
        console.log(labels)
        console.log('Dados:')
        console.log(dados.datasets)
        console.log('----------------------------------------------')

        // Criando estrutura para plotar gráfico - config
        const config = {
            type: 'bar',
            data: dados,
            options: options
        };

        dados.datasets[0].backgroundColor = `#26ABA7`;

        // Adicionando gráfico criado em div na tela
        let myChart3 = new Chart(
            document.getElementById(`myChartSetor`),
            config
        );

        setTimeout(() => atualizarGraficoSetor(idMaquina, dados, myChart3), 2000);
    }


    // Esta função *atualizarGrafico* atualiza o gráfico que foi renderizado na página,
    // buscando a última medida inserida em tabela contendo as capturas, 

    //     Se quiser alterar a busca, ajuste as regras de negócio em src/controllers
    //     Para ajustar o "select", ajuste o comando sql em src/models
    function atualizarGraficoSetor(idMaquina, dados, myChart3) {

        fetch(`/medidas/tempo-realSetor/${idMaquina}`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (novoRegistro) {

                    console.log(`Dados recebidos: ${JSON.stringify(novoRegistro)}`);
                    console.log(`Dados atuais do gráfico:`);
                    console.log(dados);

                    // let avisoCaptura = document.getElementById(`avisoCaptura${disco}`)
                    // avisoCaptura.innerHTML = ""


                    if (novoRegistro[0].momento_grafico == dados.labels[dados.labels.length]) {
                        console.log("---------------------------------------------------------------")
                        console.log("Como não há dados novos para captura, o gráfico não atualizará.")
                        // avisoCaptura.innerHTML = "<i class='fa-solid fa-triangle-exclamation'></i> Foi trazido o dado mais atual capturado pelo sensor. <br> Como não há dados novos a exibir, o gráfico não atualizará."
                        console.log("Horário do novo dado capturado:")
                        console.log(novoRegistro[0].opcoes)
                        console.log("Horário do último dado capturado:")
                        console.log(dados.labels[dados.labels.length])
                        console.log("---------------------------------------------------------------")
                    } else {
                        // tirando e colocando valores no gráfico
                        dados.labels.shift(); // apagar o primeiro
                        dados.labels.push(novoRegistro[0].nomeBotao); // incluir um novo momento

                        dados.datasets[0].data.shift();  // apagar o primeiro de umidade
                        dados.datasets[0].data.push(novoRegistro[0].opcoes); // incluir uma nova medida de umidade

                        // dados.datasets[1].data.shift();  // apagar o primeiro de temperatura
                        // dados.datasets[1].data.push(novoRegistro[0].temperatura); // incluir uma nova medida de temperatura

                        myChart3.update();
                    }

                    // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
                    // proximaAtualizacao = setTimeout(() => atualizarGrafico(disco, dados, myChart), 2000);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
                // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
                // proximaAtualizacao = setTimeout(() => atualizarGrafico(disco, dados, myChart), 2000);
            }
        })
            .catch(function
                (error) {
                console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
            });

    }

    function atualizarFeedConsulta() {

        fetch(`/avisos/listarConsulta/`).then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    var feed = document.getElementById("feed_container");
                    var mensagem = document.createElement("span");
                    mensagem.innerHTML = "Nenhum resultado encontrado."
                    feed.appendChild(mensagem);
                    throw "Nenhum resultado encontrado!!";
                }

                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    var feed = document.getElementById("pTotalConsultas");

                    for (let i = 0; i < resposta.length; i++) {
                        var publicacao = resposta[i];
                        feed.innerHTML += `${publicacao.consultaMensal} Consultas`
                    }

                    // finalizarAguardar();
                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
            // finalizarAguardar();
        });
    }

    function obterSetorMaisUtilizado() {
        fetch(`/avisos/setorMaisUtilizado`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("setor mais utilizado: ", JSON.stringify(resposta));

                    pSetorMaisUtilizado.innerHTML = `${resposta[0].nomeBotao}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function obterSetorMaisUtilizadoSub() {
        fetch(`/avisos/setorMaisUtilizadoSub`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("setor mais utilizado: ", JSON.stringify(resposta));

                    pDescSetorMaisUtilizado.innerHTML = `Mês passado: ${resposta[0].nomeBotao}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function obterSetorMenosUtilizado() {
        var idMaquina = sessionStorage.ID_MAQUINA
        fetch(`/avisos/setorMenosUtilizado`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("setor menos utilizado: ", JSON.stringify(resposta));

                    pSetorMenosUtilizado.innerHTML = `${resposta[0].nomeBotao}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function obterSetorMenosUtilizadoSub() {
        var idMaquina = sessionStorage.ID_MAQUINA
        fetch(`/avisos/setorMenosUtilizadoSub`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("setor menos utilizado: ", JSON.stringify(resposta));

                    pDescSetorMenosUtilizado.innerHTML = `Mês passado: ${resposta[0].nomeBotao}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function obterDiaMaisMovimentado() {
        fetch(`/avisos/diaMaisMovimentado`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("dia mais movimentado: ", JSON.stringify(resposta));

                    pDiaMaisUtilizado.innerHTML = `Dia ${resposta[0].dia}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function obterDiaMaisMovimentadoSub() {
        fetch(`/avisos/diaMaisMovimentadoSub`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("dia mais movimentado: ", JSON.stringify(resposta));

                    pDescDiaMaisUtilizado.innerHTML = `Mês Passado: Dia ${resposta[0].dia}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function obterDiaMenosMovimentado() {
        fetch(`/avisos/diaMenosMovimentado`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("dia menos movimentado: ", JSON.stringify(resposta));

                    pDiaMenosUtilizado.innerHTML = `Dia ${resposta[0].dia}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function obterDiaMenosMovimentadoSub() {
        fetch(`/avisos/diaMenosMovimentadoSub`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("dia menos movimentado: ", JSON.stringify(resposta));

                    pDescDiaMenosUtilizado.innerHTML = `Mês passado: Dia ${resposta[0].dia}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function totenMaisUtilizado() {
        fetch(`/avisos/totenMaisUtilizado`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("toten mais: ", JSON.stringify(resposta));

                    pTotenMaisUtilizado.innerHTML = `Toten ${resposta[0].fkMaquina}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function totenMaisUtilizadoSub() {
        fetch(`/avisos/totenMaisUtilizadoSub`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("toten menos: ", JSON.stringify(resposta));

                    pDescTotenMaisUtilizado.innerHTML = `Mês passado: Toten ${resposta[0].fkMaquina}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function consultasSub() {
        fetch(`/avisos/subConsulta`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("sub consulta: ", JSON.stringify(resposta));

                    if (resposta[0].percentual > 0) {
                        pDescConsultas.innerHTML = `+ ${resposta[0].percentual}% que o mês passado`
                    } else {
                        pDescConsultas.innerHTML = `${resposta[0].percentual}% que o mês passado`
                    }

                    if (pDescConsultas.innerHTML.includes('+')) {
                        pDescConsultas.style.color = "#1dd800"
                    } else {
                        pDescConsultas.style.color = "#FD3333"
                    }


                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function mesAtual() {
        fetch(`/avisos/mesAtual`).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(function (resposta) {
                    console.log("mesAtual ", JSON.stringify(resposta));

                    var respostaFinal = 0
                    if (resposta[0].mêsAtual == 11) {
                        respostaFinal = "Novembro"
                    } else if (resposta[0].mêsAtual == 12) {
                        respostaFinal = "Dezembro"
                    } else if (resposta[0].mêsAtual == 1) {
                        respostaFinal = "Janeiro"
                    } else if (resposta[0].mêsAtual == 2) {
                        respostaFinal = "Fevereiro"
                    } else if (resposta[0].mêsAtual == 3) {
                        respostaFinal = "Março"
                    } else if (resposta[0].mêsAtual == 4) {
                        respostaFinal = "Abril"
                    } else if (resposta[0].mêsAtual == 5) {
                        respostaFinal = "Maio"
                    } else if (resposta[0].mêsAtual == 6) {
                        respostaFinal = "Junho"
                    } else if (resposta[0].mêsAtual == 7) {
                        respostaFinal = "Julho"
                    } else if (resposta[0].mêsAtual == 8) {
                        respostaFinal = "Agosto"
                    } else if (resposta[0].mêsAtual == 9) {
                        respostaFinal = "Setembro"
                    } else {
                        respostaFinal = "Outubro"
                    }

                    pTituloMes.innerHTML = `Mês atual: ${respostaFinal}`

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    var cargo = sessionStorage.NIVELACESSO_COLABORADOR;

    if (cargo == "RL") {
        cargo = "Representante"
        SumirCadMaq.style.display = "none";
        SumirAnaliseMaq.style.display = "none";
    } else if (cargo == "GT") {
        cargo = "Gerente TI"
    }
    else {
        cargo = "Equipe TI";
        SumirCadMaq.style.display = "none";
        SumirCadEquipe.style.display = "none";
        SumirAnaliseFunc.style.display = "none";
        divCadastroEquipe.style.top = "18%";
    }

    cargoPerfil.innerHTML = cargo;
    nomeEmpresa.innerHTML = sessionStorage.NOME_FANTASIA_COLABORADOR;
    pTituloNome.innerHTML = sessionStorage.NOME_FANTASIA_COLABORADOR;
    tituloPerfil.innerHTML = sessionStorage.NOME_COLABORADOR;
    pNomeSetor.innerHTML = sessionStorage.NOME_SETOR;
    numSala.innerHTML = sessionStorage.ID_SALA;
    numComputador.innerHTML = sessionStorage.ID_MAQUINA;


</script>