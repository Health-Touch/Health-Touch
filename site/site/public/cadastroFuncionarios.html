<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/cadastroFuncionarios.css">
    <title>Document</title>
</head>
<body>

    <div class="divPai">
        <!-- inicio menu lateral -->
        <div class="divPaiLateral">
            <div class="filhoLateral">

                <div class="divNomeEmpresa">

                    <p id="nomeEmpresa">Bem Vindo <br> Nome da Empresa</p>
                </div>

                <div class="divMainMenu"><p id="pMainMenu">MAIN MENU</p></div>

                <div class="divPaiOpcoesMenu">
                    <div class="divHome">
                        <img id="iconMenuLateralHome" src="assets/img/iconHome.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Setores</p>
                    </div>

                    <div class="divEstatisticas">
                        <img id="iconEstatiscasLateral" src="assets/img/estatisticasIcon.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Estatísticas <br> Gerais</p>
                    </div>

                    <div class="divDashboards">
                        <img id="iconDashboardsLateral" src="assets/img/iconDashboard.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Dashboards <br> Detalhadas</p>
                    </div>

                    <div class="divComputador">
                        <img id="iconComputadorLateral" src="assets/img/iconComputador.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Análise <br> Máquinas</p>
                    </div>

                    <div class="divCadastroComputador">
                        <img id="iconComputadorCadLateral" src="assets/img/iconPcConfig.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Cadastro <br> Máquinas</p>
                    </div>

                    <div class="divAnaliseEquipe">
                        <img id="iconAnaliseEquipe" src="assets/img/iconEquipe.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Funcionários</p>
                    </div>

                    <div class="divCadastroEquipe">
                        <img id="iconCadastroEquipe" src="assets/img/IconEquipeConfig.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Cadastro <br> Funcionários</p>
                    </div>
                </div>

                <div class="divEspacoV2"></div>

                <div class="divHelp"><p id="pHelp">HELP</p></div>

                <div class="divPaiHelpMenu">
                    <div class="divHelpDesk">
                        <img id="iconHelpDesk" src="assets/img/iconHelp.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">HelpDesk</p>
                    </div>

                    <div class="divConfiguracoes">
                        <img id="iconConfiguracoes" src="assets/img/iconConfig.png">
                        <div class="divEspaco"></div>
                        <p id="pMenuLateral">Configurações</p>
                    </div>

                    <img id="logoMenuLateral" src="assets/img/logoMenu.png">
                
                </div>

            </div>
        </div>
        <!-- fim do menu lateral -->

        <!-- inicio do cabeçalho -->
        <div class="divPaiCabecalho">
            <div class="filhoCabecalho">

                <div class="esquerdaCabecalho">
                    <input type="text" class="inputLogin" placeholder="Pesquisar"></input>
                    <img src="assets/img/lupa.png" class="lupaBusca">
                </div>

                <div class="direitaCabecalho">
                    <img class="emailIconCabecalho" src="assets/img/iconEmail.png">
                    <img class="sinoIconCabecalho" src="assets/img/notificacaoIcon.png">
                    <div class="divPerfilCabecalho">
                        <img class="iconPerfilCabecalho" src="assets/img/fotoPerfil.png">
                            <div class="textosIcon">
                                <p id="tituloPerfil">Anthony Bento</p>
                                <p id="cargoPerfil">CEO</p>
                            </div>
                        <img class="setaPerfilCabecalho" src="assets/img/setaIcon.png">
                    </div>
                </div>

            </div>
            <!-- fim do cabeçalho -->

        <!-- começo conteudo pagina -->
        <div class="divPaiConteudo">
            <div class="divPaiCadastro">

                <div class="divPaiPerfil">
                    <img src="./assets/img/fotoPerfil.png" class="iconFotoPerfil">
                    <button onclick="botaoCadastroMaquinas()" class="btnCadFunc">Atualizar Foto</button>
                </div>

                <div class="divFilhoCadastro">
                    
                    <div class="divTitulosCadastro">
                    <p id="tituloCadastroMaquinasV1">Cadastre sua <span id="tituloCadastroMaquinasV2">Equipe de Ti</span> </p>
                    </div>

                    <div class="paiSubCadastro">
                    <div class="divSo">
                        <p id="pSo">Nome:</p>
                        <input type="text" id="inputNome" class="inputCad" placeholder="Nome"></input>
                    </div>

                    <div class="divSo">
                        <p id="pSo">Email:</p>
                        <input type="text" id="inputEmail" class="inputCad" placeholder="Email"></input>
                    </div>

                    <div class="divSo">
                        <p id="pSo">CPF:</p>
                        <input type="text" id="inputCPF" class="inputCad" placeholder="532.753.208-90"></input>
                    </div>

                    <div class="divSo">
                        <p id="pSo">Senha:</p>
                        <input type="text" id="inputSenha" class="inputCad" placeholder="************"></input>
                    </div>

                    <div class="divSo">
                        <p id="pSo">Confirmar <br> Senha:</p>
                        <input type="text" id="inputConfirmarSenha" class="inputCad" placeholder="************"></input>
                    </div>

                    </div>
                    <button onclick="botaoCadastroFuncionarios()" class="btnCadMaq">Cadastre</button>
                </div>
                </div>
            </div>
        </div>
        <!-- fim conteudo pagina -->

        </div>
    </div>
</body>
</html>

<!-- <img src="assets/img/bannerHospital.png" id="imgConteudo"> -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>
<script>
    
function botaoCadastroFuncionarios () {
        
    var nome = inputNome.value
    var email = inputEmail.value
    var senha = inputSenha.value
    var cpf = inputCPF.value
    var fkEmpresa = 1;
    var fkStatus = 1;
    var fkNivelAcesso = 3;

    var teste = sessionStorage.getItem('idEmpresa')

        fetch("/usuarios/cadastrarFuncionario", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            // crie um atributo que recebe o valor recuperado aqui
            // Agora vá para o arquivo routes/usuario.js
            nomeServer: nome,
            emailServer: email,
            senhaServer: senha,
            cpfServer: cpf,
            empresaServer: fkEmpresa,
            statusServer: fkStatus,
            acessoServer: fkNivelAcesso,
        })
    }).then(function (resposta) {

        console.log("resposta: ", resposta);

        if (resposta.ok) {
            Swal.fire('CADASTRO DE FUNCIONÁRIO REALIZADO')

            limparFormulario();
          
        } else {
            Swal.fire('HOUVE UM ERRO AO TENTAR REALIZAR O CADASTRO')
        }
    }).catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
    });
}
function sumirMensagem() {
    cardErro.style.display = "none"
}

</script>